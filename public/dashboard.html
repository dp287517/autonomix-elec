<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>AutonomiX — Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="css/app.css" rel="stylesheet">
</head>
<body>

<header class="header">
  <div class="header-inner">
    <div class="brand">
      <span class="brand-badge">AutonomiX</span>
      <span>Tableau de bord</span>
    </div>

    <div style="flex:1"></div>

    <!-- Sélecteur d'espace -->
    <select id="accountSwitcher" class="select" title="Choisir un espace"></select>

    <!-- Email / rôle rendu par JS -->
    <span id="userEmail" class="badge" style="margin-left:10px;">&nbsp;</span>

    <button id="logoutBtn" class="btn" style="margin-left:10px;">Déconnexion</button>
  </div>
</header>

<main class="container">

  <!-- Ligne actions compte -->
  <div style="display:flex; gap:10px; margin-bottom:16px;">
    <button id="createAccountBtn" class="btn btn-primary">Créer un espace</button>
    <button id="deleteAccountBtn" class="btn btn-danger">Supprimer l’espace</button>
  </div>

  <!-- Card ATEX principale -->
  <section class="card app-main" id="cardATEX">
    <div class="card-body" style="display:flex; align-items:center; gap:14px; flex-wrap: wrap;">
      <div style="flex:1 1 260px">
        <h3 class="card-title" style="margin-bottom:2px;">ATEX (Suite)</h3>
        <p class="card-sub" style="margin:0;">Contrôle, EPD, Boucles Exi</p>
      </div>

      <span id="chipAtexLicense" class="badge">Licence: …</span>

      <a id="manageAtexLink" class="btn" style="margin-left:auto;">Gérer l’abonnement</a>
    </div>

    <!-- Sous-cards -->
    <div class="app-subgrid" id="atexSubCards"></div>
  </section>

</main>

<!-- Modales UI -->
<div id="modal-confirm" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal" role="document">
    <div class="modal-head">Confirmer</div>
    <div class="modal-body">Êtes-vous sûr ?</div>
    <div class="modal-foot">
      <button class="btn" data-cancel>Annuler</button>
      <button class="btn btn-danger" data-ok>Confirmer</button>
    </div>
  </div>
</div>

<div id="modal-prompt" class="modal-backdrop" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal" role="document">
    <div class="modal-head">Créer un espace</div>
    <div class="modal-body">
      <label for="promptInput" style="display:block; font-weight:700; margin-bottom:6px;">Nom de l’espace</label>
      <input id="promptInput" type="text" class="input" placeholder="Ex. Mon entreprise">
    </div>
    <div class="modal-foot">
      <button class="btn" data-cancel>Annuler</button>
      <button class="btn btn-primary" data-ok>Créer</button>
    </div>
  </div>
</div>

<script src="js/boot.js"></script>
<script src="js/ui.js"></script>
<script src="js/dashboard.js"></script>
</body>
</html>
