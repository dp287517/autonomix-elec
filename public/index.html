<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Autonomix Elec - Accueil</title>

  <!-- Tailwind + ton CSS -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="/styles.css" rel="stylesheet">

  <!-- (Optionnel mais sûr côté CSP) Font Awesome via jsDelivr au lieu de cdnjs -->
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" rel="stylesheet">

  <!-- Aucune CSP inline ici. Les headers CSP viennent du serveur (Helmet). -->
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col">

  <!-- NAV -->
  <nav class="bg-blue-700 p-4 shadow-lg sticky top-0 z-50">
    <ul class="flex flex-wrap gap-4 text-white font-semibold">
      <li><a href="/index.html" class="hover:underline" id="nav_home">Accueil</a></li>
      <li><a href="/create.html" class="hover:underline" id="nav_create">Créer un tableau</a></li>
      <li><a href="/edit.html" class="hover:underline" id="nav_view">Voir les tableaux</a></li>
      <li><a href="/selectivity.html" class="hover:underline" id="nav_selectivity">Sélectivité</a></li>
      <li><a href="/obsolescence.html" class="hover:underline" id="nav_obsolescence">Obsolescence</a></li>
      <li><a href="/fault_level_assessment.html" class="hover:underline" id="nav_fault_level">Niveau de Défaut</a></li>
      <li><a href="/hazards_assessment.html" class="hover:underline" id="nav_hazards">Risques</a></li>
      <li><a href="/breaker_control.html" class="hover:underline" id="nav_emergency">Urgence Distribution</a></li>
      <li><a href="/arc_flash_study.html" class="hover:underline" id="nav_reports">Rapports</a></li>
    </ul>
  </nav>

  <!-- CONTENU -->
  <main class="container mx-auto p-6 flex-1">
    <header class="mb-8">
      <h1 class="text-3xl font-bold mb-2" id="title">Autonomix Elec - Accueil</h1>
      <p class="text-gray-300" id="description">
        Cet outil vous permet de gérer vos tableaux électriques facilement.
      </p>
    </header>

    <section class="space-y-4">
      <h2 class="text-2xl font-semibold" id="how_to_use">Comment utiliser l'outil</h2>
      <ol class="list-decimal list-inside space-y-2 text-gray-200">
        <li id="instruction_1">Consultez cette page pour comprendre l'outil.</li>
        <li id="instruction_2">Allez à la page <a href="/create.html" class="underline">Créer un tableau</a> pour ajouter un nouveau tableau.</li>
        <li id="instruction_3">Entrez l'identifiant du tableau (ex. 27-9-G) et les disjoncteurs associés.</li>
        <li id="instruction_4">Utilisez l'API pour récupérer les caractéristiques des disjoncteurs (marque + référence).</li>
        <li id="instruction_5">Enregistrez le tableau dans la base de données.</li>
        <li id="instruction_6">Consultez la page <a href="/edit.html" class="underline">Voir les tableaux</a> pour modifier/supprimer un tableau.</li>
        <li id="instruction_7">Visitez <a href="/selectivity.html" class="underline">Sélectivité</a> pour analyser les protections.</li>
      </ol>
    </section>
  </main>

  <footer class="p-6 text-center text-gray-400">
    © <span id="year"></span> Autonomix Elec
  </footer>

  <!-- ⚠️ IMPORTANT: Charger i18next AVANT ton scripts.js pour éviter "i18next is not defined" -->
  <script src="https://cdn.jsdelivr.net/npm/i18next@23/dist/umd/i18next.min.js"></script>

  <!-- Ton script existant (utilise i18next.init(...)) -->
  <script src="/scripts.js" defer></script>

  <!-- Petit utilitaire non-invasif (pas d'inline) -->
  <script defer>
    document.addEventListener('DOMContentLoaded', () => {
      const y = document.getElementById('year'); if (y) y.textContent = new Date().getFullYear();
    });
  </script>
</body>
</html>
