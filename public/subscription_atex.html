<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>AutonomiX — Abonnement ATEX</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body{ background:#0b0c0f; color:#e7e7e7; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
    .hero{ padding:40px 0 10px; }
    .plan{ background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
           border:1px solid rgba(255,255,255,.1); border-radius:18px; padding:18px; height:100%; }
    .muted{ color:#a3a3a3; }
    .tag{ display:inline-block; padding:4px 10px; border-radius:999px; border:1px solid rgba(255,255,255,.1); color:#d6d6d6; font-size:12px; }
    .locked{ opacity:.55; }
    .check{ width:18px; height:18px; }
  </style>
</head>
<body>
  <nav class="container py-3 d-flex justify-content-between align-items-center">
    <a href="dashboard.html" class="btn btn-outline-light btn-sm">← Retour</a>
    <strong>AutonomiX</strong>
  </nav>

  <main class="container">
    <section class="hero">
      <h1 class="h3 mb-2">Choisir un abonnement — Suite ATEX</h1>
      <p class="muted">Free → <em>ATEX Control</em> · Personal → <em>ATEX Control + EPD</em> · Pro → <em>Tout (Control + EPD + IS Loop)</em></p>
      <p id="currentPlan" class="muted">Licence actuelle : chargement…</p>
    </section>

    <section class="row g-3">
      <!-- FREE -->
      <div class="col-12 col-md-4">
        <div class="plan h-100 d-flex flex-column">
          <div class="d-flex align-items-center justify-content-between mb-2">
            <h2 class="h5 m-0">Free</h2><span class="tag">0 €</span>
          </div>
          <ul class="mb-3">
            <li><svg class="check" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20 6L9 17l-5-5"/></svg> ATEX Control</li>
            <li class="locked">EPD</li>
            <li class="locked">IS Loop</li>
          </ul>
          <button class="btn btn-light mt-auto" data-plan="0">Choisir Free</button>
        </div>
      </div>

      <!-- PERSONAL -->
      <div class="col-12 col-md-4">
        <div class="plan h-100 d-flex flex-column">
          <div class="d-flex align-items-center justify-content-between mb-2">
            <h2 class="h5 m-0">Personal</h2><span class="tag">€</span>
          </div>
          <ul class="mb-3">
            <li><svg class="check" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20 6L9 17l-5-5"/></svg> ATEX Control</li>
            <li><svg class="check" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20 6L9 17l-5-5"/></svg> EPD</li>
            <li class="locked">IS Loop</li>
          </ul>
          <button class="btn btn-primary mt-auto" data-plan="1">Choisir Personal</button>
        </div>
      </div>

      <!-- PRO -->
      <div class="col-12 col-md-4">
        <div class="plan h-100 d-flex flex-column">
          <div class="d-flex align-items-center justify-content-between mb-2">
            <h2 class="h5 m-0">Pro</h2><span class="tag">€€</span>
          </div>
          <ul class="mb-3">
            <li><svg class="check" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20 6L9 17l-5-5"/></svg> ATEX Control</li>
            <li><svg class="check" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20 6L9 17l-5-5"/></svg> EPD</li>
            <li><svg class="check" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20 6L9 17l-5-5"/></svg> IS Loop</li>
          </ul>
          <button class="btn btn-success mt-auto" data-plan="2">Choisir Pro</button>
        </div>
      </div>
    </section>

    <section class="mt-4">
      <p class="muted">Les abonnements ATEX sont applicables au niveau du <strong>compte</strong> (scope <code>account</code>). Les propriétaires/admins peuvent changer le plan à tout moment.</p>
    </section>
  </main>

  <script>window.API_BASE_URL = window.API_BASE_URL || '';</script>
  <script src="js/subscription_atex.js" defer></script>
</body>
</html>
